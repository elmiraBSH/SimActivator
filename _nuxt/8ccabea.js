(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{473:function(e,t,n){var content=n(522);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("0fd3bb47",content,!0,{sourceMap:!1})},521:function(e,t,n){"use strict";n(473)},522:function(e,t,n){var r=n(50)((function(i){return i[1]}));r.push([e.i,'.container{\n  min-height:100vh;\n  max-width:1200px;\n  margin:0 auto;\n  display:flex;\n  justify-content:center;\n  align-items:center;\n  text-align:center\n}\n.title{\n  font-family:"Quicksand","Source Sans Pro",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;\n  display:block;\n  font-weight:300;\n  font-size:100px;\n  color:#35495e;\n  letter-spacing:1px\n}\n.subtitle{\n  font-weight:300;\n  font-size:42px;\n  word-spacing:5px;\n  padding-bottom:15px\n}\n.links{\n  padding-top:15px\n}\ninput{\n  padding:10px\n}\n.line{\n  display:grid;\n  grid-column:1ftr auto;\n  grid-template-columns:350px 1fr 150px 250px;\n  align-items:baseline;\n  grid-column-gap:10px;\n  margin-bottom:10px\n}\n.option-title{\n  margin-right:15px\n}\n.top-line{\n  display:flex;\n  justify-content:space-between;\n  align-items:center;\n  margin-bottom:12px\n}\n.top-line.start{\n  justify-content:flex-start\n}\n.ports{\n  margin-top:10px\n}\n.hidden{\n  display:none\n}\n.col{\n  display:flex;\n  align-items:center;\n  justify-content:flex-start\n}\n.port-color{\n  cursor:"pointer";\n  height:30px;\n  min-width:30px;\n  border-radius:4px;\n  transition:border-radius .2s ease-in-out;\n  margin-right:10px\n}\n.call-btn,.cancel-btn{\n  margin-left:10px\n}\n.call-btn,.port-btn{\n  margin-right:10px\n}\n.port-btn{\n  align-self:center\n}\n.rows-col{\n  justify-content:flex-start;\n  display:flex;\n  flex-direction:column;\n  align-items:normal\n}\n.command-btn{\n  margin:10px\n}\n.flex{\n  display:flex\n}\n.center{\n  align-self:center\n}\n.sms-wrap{\n  border:1px solid #ddd;\n  border-radius:3px;\n  padding:12px;\n  text-align:left\n}\n.full-width{\n  width:100%\n}\n.value-wrap{\n  margin-top:40px\n}\n.at-btn,.value-wrap{\n  word-break:break-all\n}\n.at-btn{\n  margin-bottom:25px\n}\n.warn{\n  color:red\n}\n.flex-col{\n  flex-direction:column\n}\n.align-center{\n  align-items:center\n}\n.justify-start{\n  justify-content:flex-start\n}\n.disabled-btn:hover{\n  cursor:not-allowed!important\n}',""]),r.locals={},e.exports=r},548:function(e,t,n){var content=n(549);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("78a1b980",content,!0,{sourceMap:!1})},549:function(e,t,n){var r=n(50)((function(i){return i[1]}));r.push([e.i,".theme--light.v-radio--is-disabled label{\n  color:rgba(0,0,0,.38)\n}\n\n.theme--light.v-radio--is-disabled .v-icon{\n  color:rgba(0,0,0,.26)!important\n}\n\n.theme--dark.v-radio--is-disabled label{\n  color:hsla(0,0%,100%,.5)\n}\n\n.theme--dark.v-radio--is-disabled .v-icon{\n  color:hsla(0,0%,100%,.3)!important\n}\n\n.v-radio{\n  align-items:center;\n  display:flex;\n  height:auto;\n  outline:none\n}\n\n.v-radio--is-disabled{\n  pointer-events:none;\n  cursor:default\n}\n\n.v-input--radio-group.v-input--radio-group--row .v-radio{\n  margin-right:16px\n}",""]),r.locals={},e.exports=r},550:function(e,t,n){var content=n(551);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(51).default)("e09e1dc8",content,!0,{sourceMap:!1})},551:function(e,t,n){var r=n(50)((function(i){return i[1]}));r.push([e.i,".v-input--radio-group legend.v-label{\n  cursor:text;\n  font-size:14px;\n  height:auto\n}\n\n.v-input--radio-group__input{\n  border:none;\n  cursor:default;\n  display:flex;\n  width:100%\n}\n\n.v-input--radio-group--column .v-input--radio-group__input>.v-label{\n  padding-bottom:8px\n}\n\n.v-input--radio-group--row .v-input--radio-group__input>.v-label{\n  padding-right:8px\n}\n\n.v-input--radio-group--row legend{\n  align-self:center;\n  display:inline-block\n}\n\n.v-input--radio-group--row .v-input--radio-group__input{\n  flex-direction:row;\n  flex-wrap:wrap\n}\n\n.v-input--radio-group--column legend{\n  padding-bottom:8px\n}\n\n.v-input--radio-group--column .v-radio:not(:last-child):not(:only-child){\n  margin-bottom:8px\n}\n\n.v-input--radio-group--column .v-input--radio-group__input{\n  flex-direction:column\n}",""]),r.locals={},e.exports=r},613:function(e,t,n){"use strict";n.r(t);n(32),n(25),n(17),n(54),n(55);var r=n(1),o=n(9),c=n(21),l=(n(40),n(62),n(39),n(15),n(52),n(53),n(314),n(23),n(61),n(60),n(86),n(34),n(119)),d=n(120);function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var f=n(323),h=function(){function e(){Object(o.a)(this,e),this.chunks=""}return Object(c.a)(e,[{key:"transform",value:function(e,t){this.chunks+=e;var n=this.chunks.split("\r\n");this.chunks=n.pop(),n.forEach((function(line){return t.enqueue(line)}))}},{key:"flush",value:function(e){e.enqueue(this.chunks)}}]),e}(),x={asyncData:function(){var e,t,n=localStorage.getItem("login");n&&"123"==(null===(e=JSON.parse(n))||void 0===e?void 0:e.password)&&"test"==(null===(t=JSON.parse(n))||void 0===t?void 0:t.username)||$nuxt.$router.push("/login")},data:function(){return{answer:"",uiPorts:[],gsm7:!0,enc:new TextEncoder("utf-8"),currentPort:null,dialog:!1,settingsDialog:!1,currentPortSmsList:[],callMaxTotalOperationTime:30,callMaxVoiceMessageTime:15,callCountOfTries:2,restartFirstCommand:"AT+CFUN=4",restartSecondCommand:"AT+CFUN=6",checkPinCommand:"AT+CPIN?",checkPinCountOfTriesCommand:"AT^CPIN?",checkSimCardCommand:"AT^ICCID?",checkImeiCommand:"AT+CGSN",textErrorCommand:"AT+CMEE=2",ateCommand:"ATE"}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.checkPorts(),window.addEventListener("beforeunload",(function(e){var t=this;this.uiPorts.forEach((function(p){t.closePort(p,!0)}))}));case 2:case"end":return t.stop()}}),t)})))()},methods:{openOrCheckPort:function(e){e.restarting?this.checkPorts():this.openPort(e)},isActionDisabled:function(e){return!e.connected||e.isPinRequired||e.error},cancelSession:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.writer.write(t.enc.encode("AT+CUSD=2\r\n"));case 2:e.answer=null,e.partOneAnswer=null,t.answer="";case 5:case"end":return n.stop()}}),n)})))()},checkPorts:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.serial.getPorts();case 2:n=t.sent,console.log("ports: ",n),n.forEach(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(p){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.openPort(p);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})))()},openPort:function(p){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.open({baudRate:9600,stopBits:1,parity:"none"});case 3:p.textDecoder=new TextDecoderStream,p.readableStreamClosed=p.readable.pipeTo(p.textDecoder.writable),p.reader=p.textDecoder.readable.pipeThrough(new TransformStream(new h)).getReader(),p.writer=p.writable.getWriter(),p.writer.write(e.enc.encode("".concat(e.ateCommand,"\r\n"))),p.writer.write(e.enc.encode("".concat(e.textErrorCommand,"\r\n"))),p.writer.write(e.enc.encode("".concat(e.checkImeiCommand,"\r\n"))),setTimeout((function(){e.checkSimCardNumber(p)}),500),setTimeout((function(){e.checkPin(p)}),1500),p.keepReading=!0,t.prev=13,n=regeneratorRuntime.mark((function t(){var n,o,c,l,d,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.pendingRead=p.reader.read(),setTimeout(Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p.imei||!p.pendingRead){t.next=3;break}return t.next=3,e.closePort(p);case 3:case"end":return t.stop()}}),t)}))),1e4),t.next=4,p.pendingRead;case 4:if(n=t.sent,o=n.value,!n.done){t.next=9;break}return t.abrupt("return","break");case 9:console.log("value from port (imei: ".concat(p.imei,"): "),o),c=o.toString().trim(),l=e.uiPorts.findIndex((function(e){return e.imei==p.imei})),p.imei&&-1!=l?(e.uiPorts[l].connected=!0,d=o.trim().toString(),e.uiPorts[l].value=d,e.answer=d,e.checkValueForUssdAnswerAndSave(d,e.uiPorts[l]),e.checkValueForSmsAndSave(d),e.checkValueForATandSave(d,e.uiPorts[l]),e.checkValueForCallAnswerAndSave(d,e.uiPorts[l])):15==c.length&&/^\d+$/.test(c)&&(0==e.uiPorts.filter((function(e){return e.imei==c})).length?(p.imei=c,p.connected=!0,p.restarting=!1,e.syncWithStorage(p),e.uiPorts.push(p)):(m=e.uiPorts.findIndex((function(e){return e.imei==c})),p.imei=c,p.connected=!0,p.restarting=!1,e.syncWithStorage(p),e.uiPorts[m]=p,e.answer="update"));case 13:case"end":return t.stop()}}),t)}));case 15:if(!p.keepReading){t.next=22;break}return t.delegateYield(n(),"t0",17);case 17:if("break"!==t.t0){t.next=20;break}return t.abrupt("break",22);case 20:t.next=15;break;case 22:t.next=29;break;case 24:return t.prev=24,t.t1=t.catch(13),console.error("error while listening to the port (imei: ".concat(p.imei,"): "),t.t1),t.next=29,e.closePort(p,!p.restarting);case 29:return t.prev=29,p.reader.releaseLock(),t.finish(29);case 32:t.next=37;break;case 34:t.prev=34,t.t2=t.catch(0),console.error("error when trying to connect to the port: ",t.t2);case 37:case"end":return t.stop()}}),t,null,[[0,34],[13,24,29,32]])})))()},syncWithStorage:function(p){var e=null,t=localStorage.getItem("ports");if(t&&(e=JSON.parse(t)),e){if(e.length>0){var n=e.findIndex((function(e){return p.imei===e.imei}));-1!=n&&(p.color=e[n].color,p.callMaxTotalOperationTime=e[n].callMaxTotalOperationTime,p.callMaxVoiceMessageTime=e[n].callMaxVoiceMessageTime,p.callCountOfTries=e[n].callCountOfTries,this.checkAndSaveDefaultCallSettings(p))}}else e=[],this.checkAndSaveDefaultCallSettings(p),e.push({imei:p.imei,color:p.color,callMaxTotalOperationTime:p.callMaxTotalOperationTime,callMaxVoiceMessageTime:p.callMaxVoiceMessageTime,callCountOfTries:p.callCountOfTries}),localStorage.setItem("ports",JSON.stringify(e))},checkValueForCallAnswerAndSave:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var c,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t.currentPhoneToCall&&t.isCallActive&&(e.includes("NO CARRIER")||e.includes("NO ANSWER")||e.includes("BUSY")||e.includes("+CME ERROR:"))&&(console.log("no carrier or busy or error"),(e.includes("+CME ERROR: Incorrect parameters")||e.includes("+CME ERROR: 50"))&&(t.isWrongNumber=!0,n.hungUp(t))),!(e.includes("^CEND:")&&t.currentPhoneToCall&&t.isCallActive)){o.next=9;break}return(c=e.split(",")).length>3&&17==parseInt(c[3])?(t.value+="CALL WITH ".concat(t.currentPhoneToCall," ENDED"),t.isCallEndedWithoutAnswer=!0):t.isCallEnded=!0,o.next=6,n.hungUp(t);case 6:o.sent&&console.log("Hung UP When Call ENDED"),n.answer="update";case 9:e.includes("^CONN:")&&t.currentPhoneToCall&&(t.value+="".concat(t.currentPhoneToCall," ANSWERED"),t.isAnswered=!0,n.answer="update",l=t.currentCallId,setTimeout(Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isCallEnded||!t.isAnswered||t.isCallEndedWithoutAnswer){e.next=6;break}if(l!=t.currentCallId){e.next=6;break}return e.next=4,n.hungUp(t);case 4:e.sent&&console.log("Hung UP When voice message timeout");case 6:case"end":return e.stop()}}),e)}))),1e3*t.callMaxVoiceMessageTime));case 10:case"end":return o.stop()}}),o)})))()},checkValueForSmsAndSave:function(e){var t=d.parse(e);t.text&&(console.log("parsed pdu: ",t),this.currentPortSmsList.push({text:t.text,from:t.origination,date:new Date(t.timestamp).toLocaleString(),datetime:new Date(t.timestamp)}),this.currentPortSmsList.sort((function(a,b){return b.datetime-a.datetime})))},checkValueForATandSave:function(e,t){var n=this;if(t.lastAt&&e==t.lastAt)t.prevAnswer=e,t.currentAnswer="",console.log("port prev answer: ",t.prevAnswer);else if(t.prevAnswer&&t.prevAnswer==t.lastAt&&"OK"!=e)t.currentAnswer+=e;else if(t.prevAnswer&&t.prevAnswer==t.lastAt&&"OK"==e){if(t.currentAnswer+=e,t.atAnswer=t.currentAnswer,this.answer="update",t.prevAnswer.includes(this.restartFirstCommand)&&(t.restarting=!0),t.prevAnswer.includes(this.checkSimCardCommand)){var r=t.currentAnswer.split(" ");if(r.length>1){var o=r[1].indexOf("OK"),c=r[1].substr(0,o);t.simCardNumber=this.getSimCardNumber(c),this.answer="update"}}if(t.prevAnswer.includes(this.checkPinCountOfTriesCommand)){var l=t.currentAnswer.split(" ");if(console.log("splittedPart: ",l),l.length>2){var d=l[2].split(",");console.log("num splitted: ",d),d.length>1&&(console.log("num: ",d[1]),t.numOfPinTries=d[1],this.answer="update")}}if(t.prevAnswer.includes('AT+CLCK="SC",0,')&&(t.isPinRequired=!1,t.pincode="",t.checkedPin="",console.log("pin requirement disabled")),console.log("current answer: ",t.currentAnswer),t.prevAnswer.includes(this.checkPinCommand)){var m=t.currentAnswer;if(m.includes("+CPIN: READY"))t.checkedPin=t.pincode,t.isPinRequired=!1,console.log("pin is not required!"),setTimeout((function(){n.disablePin(t)}),500);else if(m.includes("SIM")){var v=m.split(" ");if(v.length>0)switch(v[v.length-1]){case"PINOK":t.requiredStr="PIN",t.isPinRequired=!0,this.answer="update";break;case"PUKOK":t.error='PUK1 and new PIN1 required! Try AT  command  AT+CPIN="PUK1","new PIN1"';break;case"PIN2OK":t.error='PIN2 required! Try AT  command AT+CPIN2="PIN2"';break;case"PUK2OK":t.error='PUK2 and new PIN1 required! Try AT  command AT+CPIN2="PUK2","PIN2"'}}else m.includes("ERROR")&&(m.includes("ERROR:10")?t.error="SIM Card is absent!":m.includes("ERROR:13")&&(t.error="SIM Card is defective!"))}t.lastAt="",t.prevAnswer=""}},getSimCardNumber:function(e){var t=e,n=e.indexOf("F");if(n>-1&&(t=e.substr(0,n)),"98"==t.substr(0,2)){for(var r=[],i=0;i<=t.length-2;i+=2)r.push(t[i+1]),r.push(t[i]);return r.join("")}return t},checkValueForUssdAnswerAndSave:function(e,t){if(e.includes("+CUSD:")){var n=e.split(",");if(n.length>2){var r=n[1].trim(),o=r.substr(1,r.length-2);console.log("ussd answer: ",o),t.answer=this.decode(o),this.answer=e}}},fromUCS2:function(code){var e=code.match(/.{1,4}/g),t=[];return e.forEach((function(i){t.push(parseInt(i,16))})),f.ucs2.encode(t)},decode:function(data){return this.gsm7?l.UssdEncoderDecoder.decodeAs7bitGSM(data):this.fromUCS2(data)},call:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c,p,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.smsPhone){n.next=32;break}t.checkAndSaveDefaultCallSettings(e),r=e.smsPhone.split(","),console.log("phones: ",r),o=m(r),n.prev=5,o.s();case 7:if((c=o.n()).done){n.next=24;break}p=c.value,i=0,console.log("one phone: ",p);case 11:if(!(i<e.callCountOfTries)){n.next=20;break}return console.log("try ".concat(i," for calling to  ").concat(p)),n.next=15,t.singleCall(e,p);case 15:if(!(e.isCallEnded||e.isAnswered||e.isCallEndedWithoutAnswer)){n.next=17;break}return n.abrupt("break",20);case 17:i++,n.next=11;break;case 20:if(!(e.isCallEnded||e.isAnswered||e.isCallEndedWithoutAnswer)){n.next=22;break}return n.abrupt("break",24);case 22:n.next=7;break;case 24:n.next=29;break;case 26:n.prev=26,n.t0=n.catch(5),o.e(n.t0);case 29:return n.prev=29,o.f(),n.finish(29);case 32:case"end":return n.stop()}}),n,null,[[5,26,29,32]])})))()},singleCall:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function o(){var c,l;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(!e||!t){o.next=20;break}return o.next=3,e.writer.write(n.enc.encode("".concat(n.checkPinCommand,"\r\n")));case 3:return o.next=5,e.writer.write(n.enc.encode("AT+CSQ\r\n"));case 5:return o.next=7,e.writer.write(n.enc.encode("AT+CREG?\r\n"));case 7:return c=e.isAnonymous?"I":"",o.next=10,e.writer.write(n.enc.encode("ATD".concat(t).concat(c,";\r\n")));case 10:return e.currentPhoneToCall=t,e.isAnswered=!1,e.isCallEnded=!1,e.isCallEndedWithoutAnswer=!1,e.isCallActive=!0,e.isWrongNumber=!1,e.currentCallId=(new Date).getTime(),n.answer="update",l=e.currentCallId,o.abrupt("return",new Promise((function(t){setTimeout(Object(r.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l!=e.currentCallId){r.next=6;break}return r.next=3,n.hungUp(e);case 3:r.sent&&console.log("Hung UP When Total timeout"),setTimeout((function(){t()}),3e3);case 6:case"end":return r.stop()}}),r)}))),1e3*e.callMaxTotalOperationTime)})));case 20:case"end":return o.stop()}}),o)})))()},hungUp:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isCallActive){n.next=7;break}return e.isCallActive=!1,n.next=4,e.writer.write(t.enc.encode("AT+CHUP\r\n"));case 4:return n.abrupt("return",!0);case 7:return n.abrupt("return",!1);case 8:case"end":return n.stop()}}),n)})))()},sendTextSms:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.smsPhone||!e.sms){n.next=9;break}return n.next=3,e.writer.write(t.enc.encode("AT+CMGF=1\r\n"));case 3:return n.next=5,e.writer.write(t.enc.encode('AT+CSCS="GSM"\r\n'));case 5:return n.next=7,e.writer.write(t.enc.encode('AT+CMGS="'.concat(e.smsPhone,'"\r\n')));case 7:return n.next=9,e.writer.write(t.enc.encode("".concat(e.sms,"")));case 9:case"end":return n.stop()}}),n)})))()},sendPduSms:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,data,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.smsPhone||!e.sms){n.next=15;break}if(r=e.smsPhone.split(","),o="",r.length>0&&(o=r[0]),!o){n.next=15;break}return data=d.generateSubmit(o,e.sms),console.log("data: ",data),n.next=9,e.writer.write(t.enc.encode("AT+CMGF=0\r\n"));case 9:return n.next=11,e.writer.write(t.enc.encode("AT+CMGS=".concat(data[0].length,"\r\n")));case 11:return c="",e.smsCenterPhone&&(c=t.getRevertedPhone(e.smsCenterPhone,!0)),n.next=15,e.writer.write(t.enc.encode("".concat(c).concat(data[0].hex,"")));case 15:case"end":return n.stop()}}),n)})))()},getRevertedPhone:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=e.replace(/\D/g,""),r=t?7:n.length.toString(16).toUpperCase();n.length%2!=0&&(n+="F");for(var o=[],c=n.split(""),i=0;i<=c.length-2;i+=2)o.push(c[i+1]),o.push(c[i]);var l="0".concat(r,"91").concat(o.join(""));return l}return""},getHexText:function(e,t,n){if(e&&t){var text=l.UssdEncoderDecoder.encodeAs7bitGSM(e),r=e.length;r<10&&(r="0"+r);var o=this.getRevertedPhone(t),c=this.getRevertedPhone(n,!0);return console.log("sms center numText: ",c),console.log("numText: ",o),console.log("text: ",text),c+"0100"+o+"0000"+r+text}return""},listenForSms:function(e){},listSms:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.currentPort=e,t.currentPortSmsList=[],n.next=4,e.writer.write(t.enc.encode("AT+CMGF=0\r\n"));case 4:return n.next=6,e.writer.write(t.enc.encode('AT+CPMS="МТ"\r\n'));case 6:return n.next=8,e.writer.write(t.enc.encode("AT+CMGL=4\r\n"));case 8:setTimeout((function(){t.dialog=!0}),500);case 9:case"end":return n.stop()}}),n)})))()},write:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=l.UssdEncoderDecoder.encodeAs7bitGSM(e.message),n.next=3,e.writer.write(t.enc.encode('AT+CUSD=1,"'.concat(r,'",15\r\n')));case 3:case"end":return n.stop()}}),n)})))()},disablePin:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.checkedPin){n.next=5;break}return e.at='AT+CLCK="SC",0,"'.concat(e.checkedPin,'"'),e.lastAt=e.at,n.next=5,e.writer.write(t.enc.encode("".concat(e.at,"\r\n")));case 5:case"end":return n.stop()}}),n)})))()},restart:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.connected){n.next=7;break}return e.at=t.restartFirstCommand,e.lastAt=e.at,n.next=5,e.writer.write(t.enc.encode("".concat(e.at,"\r\n")));case 5:setTimeout(Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.at=t.restartSecondCommand,e.lastAt=e.at,n.next=4,e.writer.write(t.enc.encode("".concat(e.at,"\r\n")));case 4:case"end":return n.stop()}}),n)}))),1500),setTimeout((function(){console.log("opening port: ",e),t.checkPorts()}),1e4);case 7:case"end":return n.stop()}}),n)})))()},checkPin:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.at=t.checkPinCommand,e.lastAt=e.at,n.next=4,e.writer.write(t.enc.encode("".concat(e.at,"\r\n")));case 4:setTimeout(Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.at=t.checkPinCountOfTriesCommand,e.lastAt=e.at,n.next=4,e.writer.write(t.enc.encode("".concat(e.at,"\r\n")));case 4:case"end":return n.stop()}}),n)}))),1e3);case 5:case"end":return n.stop()}}),n)})))()},checkSimCardNumber:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.at=t.checkSimCardCommand,e.lastAt=e.at,n.next=4,e.writer.write(t.enc.encode("".concat(e.at,"\r\n")));case 4:case"end":return n.stop()}}),n)})))()},checkPinFromInput:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.pincode){n.next=6;break}return e.at='AT+CPIN="'.concat(e.pincode,'"'),e.lastAt=e.at,n.next=5,e.writer.write(t.enc.encode("".concat(e.at,"\r\n")));case 5:setTimeout(Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.checkPin(e);case 2:case"end":return n.stop()}}),n)}))),1e3);case 6:case"end":return n.stop()}}),n)})))()},writeAT:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.at){n.next=5;break}return e.at=e.at.trim(),e.lastAt=e.at,n.next=5,e.writer.write(t.enc.encode("".concat(e.at,"\r\n")));case 5:case"end":return n.stop()}}),n)})))()},closePort:function(p){var e=arguments,t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>1&&void 0!==e[1]&&e[1],p.reader.cancel(),p.keepReading=!1,n.next=5,p.readableStreamClosed.catch((function(){}));case 5:p.reader.releaseLock(),p.writer.releaseLock(),p.close(),-1!=(o=t.uiPorts.findIndex((function(e){return e.imei==p.imei})))&&(r?t.uiPorts.splice(o,1):(t.uiPorts[o].connected=!1,t.answer="upate")),console.log("port closed: ",p);case 11:case"end":return n.stop()}}),n)})))()},openSettings:function(e){e.isCallActive||(this.currentPort=e,this.checkAndSaveDefaultCallSettings(e),this.settingsDialog=!0)},checkAndSaveDefaultCallSettings:function(e){e.callMaxTotalOperationTime||(e.callMaxTotalOperationTime=this.callMaxTotalOperationTime),e.callMaxVoiceMessageTime||(e.callMaxVoiceMessageTime=this.callMaxVoiceMessageTime),e.callCountOfTries||(e.callCountOfTries=this.callCountOfTries)},savePort:function(e){if(e.imei){var t=null,n=localStorage.getItem("ports");if(n&&(t=JSON.parse(n)),t){if(t.length>0){var r=t.findIndex((function(p){return p.imei===e.imei}));-1!=r?(t[r].color=e.color,t[r].imei=e.imei,t[r].callMaxTotalOperationTime=+e.callMaxTotalOperationTime,t[r].callMaxVoiceMessageTime=+e.callMaxVoiceMessageTime,t[r].callCountOfTries=+e.callCountOfTries):t.push({imei:e.imei,color:e.color,callMaxTotalOperationTime:e.callMaxTotalOperationTime,callMaxVoiceMessageTime:e.callMaxVoiceMessageTime,callCountOfTries:e.callCountOfTries})}}else(t=[]).push({imei:e.imei,color:e.color,callMaxTotalOperationTime:e.callMaxTotalOperationTime,callMaxVoiceMessageTime:e.callMaxVoiceMessageTime,callCountOfTries:e.callCountOfTries});localStorage.setItem("ports",JSON.stringify(t))}},connect:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("serial"in navigator)){t.next=11;break}return t.prev=1,t.next=4,navigator.serial.requestPort();case 4:return n=t.sent,t.next=7,e.openPort(n);case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}},w=(n(521),n(63)),_=n(130),C=n.n(_),k=n(491),P=n(474),T=n(429),O=n(605),S=n(612),A=n(617),y=n(482),R=n(467),M=n(483),j=(n(24),n(30),n(31),n(71)),I=n(6),D=(n(548),n(458)),E=n(427),N=n(432),V=n(435),U=n(426),G=n(440),F=n(477),$=n(128),L=n(476),W=n(11),K=n(126),B=n(433),H=["title"];function J(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function z(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?J(Object(source),!0).forEach((function(t){Object(I.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):J(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Y=Object(K.a)(V.a,U.a,F.a,Object(G.a)("radioGroup"),$.a).extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return z(z({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return L.a.options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return N.a.options.computed.computedId.call(this)},hasLabel:N.a.options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return L.a.options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(e){return L.a.options.methods.genInput.call(this,"radio",e)},genLabel:function(){return this.hasLabel?this.$createElement(D.a,{on:{click:L.b},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(W.o)(this,"label")||this.label):null},genRadio:function(){var e=this.attrs$,t=(e.title,Object(j.a)(e,H));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(E.a,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(z({name:this.computedName,value:this.value},t)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(e){return e("div",{staticClass:"v-radio",class:this.classes,on:Object(B.b)({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}},[this.genRadio(),this.genLabel()])}}),Q=(n(127),n(475),n(550),n(485)),X=n(455);function Z(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function ee(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Z(Object(source),!0).forEach((function(t){Object(I.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Z(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var te=Object(K.a)(X.a,Q.a,N.a).extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return ee(ee({},N.a.options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},N.a.options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var e=N.a.options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel:function(){var label=N.a.options.methods.genLabel.call(this);return label?(label.data.attrs.id=this.computedId,delete label.data.attrs.for,label.tag="legend",label):null},onClick:Q.a.options.methods.onClick}}),ne=n(607),re=n(608),ae=n(600),ie=n(609),component=Object(w.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"container"},[n("div",{staticClass:"full-width"},[n("h2",{staticClass:"subtitle"},[e._v("Sim Activator")]),e._v(" "),n("div",{staticClass:"links"},[n("div",{staticClass:"top-line flex justify-start"},[n("span",{staticClass:"option-title"},[e._v(" Decode options: ")]),e._v(" "),n("v-radio-group",{attrs:{row:""},model:{value:e.gsm7,callback:function(t){e.gsm7=t},expression:"gsm7"}},[n("v-radio",{attrs:{label:"GSM7",value:!0}}),e._v(" "),n("v-radio",{attrs:{label:"USC2",value:!1}})],1)],1),e._v(" "),n("div",{staticClass:"top-line"},[e._m(0),e._v(" "),n("div",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"button--grey",attrs:{color:"primary"},on:{click:function(t){return e.checkPorts()}}},"v-btn",o,!1),r),[e._v("refresh")])]}}])},[e._v(" "),n("span",[e._v("Refresh a list of already connected ports")])]),e._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"button--grey",attrs:{color:"primary"},on:{click:function(t){return e.connect()}}},"v-btn",o,!1),r),[e._v("add new port")])]}}])},[e._v(" "),n("span",[e._v("Open a browser window to select a single serial port ")])])],1)]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"ports"},e._l(e.uiPorts,(function(t,r){return n("div",{key:r,staticClass:"line"},[n("div",{staticClass:"flex flex-col"},[n("div",{staticClass:"col"},[n("div",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[n("v-icon",e._g(e._b({class:t.connected?"port-btn":"port-btn disabled-btn",attrs:{color:"primary",dark:""},on:{click:function(n){return e.restart(t)}}},"v-icon",c,!1),o),[e._v("\n                      mdi-restart")])]}}],null,!0)},[e._v(" "),n("span",[e._v("Restart device")])])],1),e._v(" "),t.connected?n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[n("v-icon",e._g(e._b({staticClass:"port-btn",attrs:{color:"red",dark:""},on:{click:function(n){return e.closePort(t)}}},"v-icon",c,!1),o),[e._v("\n                    mdi-cancel")])]}}],null,!0)},[e._v(" "),n("span",[e._v("Disconnect port")])]):e._e(),e._v(" "),t.connected?e._e():n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[n("v-icon",e._g(e._b({staticClass:"port-btn",attrs:{color:"primary",dark:""},on:{click:function(n){return e.openOrCheckPort(t)}}},"v-icon",c,!1),o),[e._v("\n                    mdi-play")])]}}],null,!0)},[e._v(" "),n("span",[e._v("Connect port")])]),e._v(" "),n("v-menu",{attrs:{top:"","nudge-bottom":"105","nudge-left":"16","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on;return[n("div",e._g({staticClass:"port-color",style:{backgroundColor:t.color?t.color.hex:"#ddd"}},o))]}}],null,!0),model:{value:t.menu,callback:function(n){e.$set(t,"menu",n)},expression:"port.menu"}},[e._v(" "),n("v-card",[n("v-card-text",{staticClass:"pa-0"},[n("v-color-picker",{attrs:{flat:""},on:{input:function(n){return e.savePort(t)}},model:{value:t.color,callback:function(n){e.$set(t,"color",n)},expression:"port.color"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"sms-wrap"},[n("div",[n("b",[e._v("Imei:")]),e._v(" "+e._s(t.imei))]),e._v(" "),n("br"),e._v(" "),n("div",[n("b",[e._v("Sim card number:")]),e._v(" "+e._s(t.simCardNumber))])])],1),e._v(" "),n("div"),e._v(" "),t.isPinRequired?n("div",{staticClass:"sms-wrap"},[n("div",{staticClass:"warn"},[e._v("PIN is required!")]),e._v(" "),n("div",{staticClass:"flex align-center"},[n("v-text-field",{attrs:{disabled:!t.connected||t.numOfPinTries<2,label:"input PIN"},model:{value:t.pincode,callback:function(n){e.$set(t,"pincode",n)},expression:"port.pincode"}}),e._v(" "),n("v-btn",{staticClass:"button--grey",attrs:{disabled:!t.connected||t.numOfPinTries<2,color:"accent"},on:{click:function(n){return e.checkPinFromInput(t)}}},[e._v("check")])],1),e._v(" "),t.numOfPinTries>=2?n("div",{staticClass:"warn"},[e._v("\n                "+e._s(t.numOfPinTries)+" tries left! After 1 try left the\n                option will be blocked\n              ")]):e._e(),e._v(" "),t.numOfPinTries<2?n("div",{staticClass:"warn"},[e._v("\n                Attention! 1 attempt to enter pincode left. Option is blocked\n              ")]):e._e()]):e._e(),e._v(" "),t.error?n("div",{staticClass:"warn"},[e._v("\n              "+e._s(t.error)+"\n            ")]):e._e()]),e._v(" "),n("div",{staticClass:"col rows-col"},[n("v-text-field",{attrs:{disabled:!t.connected,label:"input AT command"},model:{value:t.at,callback:function(n){e.$set(t,"at",n)},expression:"port.at"}}),e._v(" "),n("div",{staticClass:"flex"},[n("v-text-field",{attrs:{disabled:e.isActionDisabled(t),label:"input ussd command"},model:{value:t.message,callback:function(n){e.$set(t,"message",n)},expression:"port.message"}}),e._v(" "),n("div",{staticClass:"center"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[n("v-icon",e._g(e._b({staticClass:"cancel-btn",attrs:{color:"primary",dark:"",disabled:e.isActionDisabled(t)},on:{click:function(n){return e.cancelSession(t)}}},"v-icon",c,!1),o),[e._v("\n                      mdi-close")])]}}],null,!0)},[e._v(" "),n("span",[e._v("Cancel session")])])],1)],1),e._v(" "),n("div",{staticClass:"sms-wrap"},[n("div",{staticClass:"flex"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-icon",e._g(e._b({staticClass:"port-btn",attrs:{color:"primary",dark:""}},"v-icon",o,!1),r),[e._v("\n                      mdi-information")])]}}],null,!0)},[e._v(" "),n("span",[e._v("total one call operation time:\n                    "+e._s(t.callMaxTotalOperationTime)+" sec.")]),e._v(" "),n("hr"),e._v(" "),n("span",[e._v("total voice message time:\n                    "+e._s(t.callMaxVoiceMessageTime)+" sec.")]),e._v(" "),n("hr"),e._v(" "),n("span",[e._v("total count of tries for one phone number:\n                    "+e._s(t.callCountOfTries))])]),e._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[n("v-icon",e._g(e._b({class:t.isCallActive?"port-btn disabled-btn":"port-btn",attrs:{color:"primary",dark:""},on:{click:function(n){return e.openSettings(t)}}},"v-icon",c,!1),o),[e._v("\n                      mdi-cog")])]}}],null,!0)},[e._v(" "),n("span",[e._v("Edit call settings")])]),e._v(" "),n("v-checkbox",{attrs:{disabled:e.isActionDisabled(t)||t.isCallActive,label:"Anonymous call"},model:{value:t.isAnonymous,callback:function(n){e.$set(t,"isAnonymous",n)},expression:"port.isAnonymous"}})],1),e._v(" "),n("v-text-field",{attrs:{disabled:e.isActionDisabled(t)||t.isCallActive,placeholder:"Example: +7777777777777, +7777777777777",label:"input phone numbers with ( , )"},model:{value:t.smsPhone,callback:function(n){e.$set(t,"smsPhone",n)},expression:"port.smsPhone"}}),e._v(" "),n("div",{staticClass:"flex"},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,o=t.attrs;return[n("v-icon",e._g(e._b({staticClass:"port-btn",attrs:{color:"accent",dark:""}},"v-icon",o,!1),r),[e._v("\n                      mdi-information")])]}}],null,!0)},[e._v(" "),n("span",[e._v("sms will be send to the first phone in input")])]),e._v(" "),n("v-text-field",{attrs:{disabled:e.isActionDisabled(t),label:"input sms"},model:{value:t.sms,callback:function(n){e.$set(t,"sms",n)},expression:"port.sms"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"rows-col"},[n("v-btn",{staticClass:"button--grey command-btn at-btn",attrs:{disabled:!t.connected,color:"accent"},on:{click:function(n){return e.writeAT(t)}}},[e._v("Send AT")]),e._v(" "),n("v-btn",{staticClass:"button--grey command-btn",attrs:{disabled:e.isActionDisabled(t),color:"accent"},on:{click:function(n){return e.write(t)}}},[e._v("Send USSD")]),e._v(" "),n("v-btn",{staticClass:"button--grey command-btn",attrs:{disabled:e.isActionDisabled(t)||t.isCallActive,color:"accent"},on:{click:function(n){return e.call(t)}}},[e._v("Call")]),e._v(" "),n("v-btn",{staticClass:"button--grey command-btn",attrs:{disabled:e.isActionDisabled(t),color:"accent"},on:{click:function(n){return e.sendPduSms(t)}}},[e._v("Send sms")])],1),e._v(" "),n("div",[n("div",{staticClass:"at-btn"},[n("b",[e._v("Last AT answer:")]),e._v(" "+e._s(t.atAnswer)+"\n            ")]),e._v(" "),n("div",[n("b",[e._v("Last USSD answer:")]),e._v(" "+e._s(t.answer))]),e._v(" "),n("div",{staticClass:"value-wrap"},[n("b",[e._v("Last value from reader:")]),e._v(" "+e._s(t.value)+"\n            ")]),e._v(" "),n("div",{staticClass:"value-wrap"},[n("b",[e._v("Call state:")]),e._v(" last number: "+e._s(t.currentPhoneToCall)+"\n              "),t.isAnswered?n("span",[e._v(" ANSWERED to call")]):e._e(),e._v(" "),t.isCallEndedWithoutAnswer?n("span",[e._v("HUNG UP without answer")]):e._e(),e._v(" "),t.isCallEnded?n("span",[e._v("HUNG UP after answering")]):e._e(),e._v(" "),t.isWrongNumber?n("span",{staticClass:"warn"},[e._v("\n                ERROR! Number is WRONG")]):e._e()]),e._v(" "),n("div",{staticClass:"value-wrap"},[t.connected?n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on,c=r.attrs;return[n("v-icon",e._g(e._b({staticClass:"port-btn",attrs:{color:"primary",dark:""},on:{click:function(n){return e.listSms(t)}}},"v-icon",c,!1),o),[e._v("\n                    mdi-email")])]}}],null,!0)},[e._v(" "),n("span",[e._v("see all inbox messages")])]):e._e(),e._v(" "),n("b",[e._v("Last recieved SMS (not working yet):")]),e._v(" "+e._s(t.inSms)+"\n            ")],1)]),e._v(" "),n("div",{staticClass:"hidden"},[e._v("\n            "+e._s(e.answer)+"\n          ")])])})),0)])]),e._v(" "),n("v-dialog",{attrs:{width:"500"},model:{value:e.settingsDialog,callback:function(t){e.settingsDialog=t},expression:"settingsDialog"}},[e.currentPort?n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("\n        Call settings for imei: "+e._s(e.currentPort.imei)+"\n      ")]),e._v(" "),n("v-card-text",[[n("v-text-field",{attrs:{type:"number",label:"Maximum total operation time (sec)",min:"5"},on:{change:function(t){return e.savePort(e.currentPort)}},model:{value:e.currentPort.callMaxTotalOperationTime,callback:function(t){e.$set(e.currentPort,"callMaxTotalOperationTime",t)},expression:"currentPort.callMaxTotalOperationTime"}}),e._v(" "),n("v-text-field",{attrs:{type:"number",label:"Maximum voice message time (sec)",min:"5"},on:{change:function(t){return e.savePort(e.currentPort)}},model:{value:e.currentPort.callMaxVoiceMessageTime,callback:function(t){e.$set(e.currentPort,"callMaxVoiceMessageTime",t)},expression:"currentPort.callMaxVoiceMessageTime"}}),e._v(" "),n("v-text-field",{attrs:{type:"number",label:"Count of tries for one phone number",min:"1"},on:{change:function(t){return e.savePort(e.currentPort)}},model:{value:e.currentPort.callCountOfTries,callback:function(t){e.$set(e.currentPort,"callCountOfTries",t)},expression:"currentPort.callCountOfTries"}})]],2),e._v(" "),n("v-divider"),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.currenPort=null,e.settingsDialog=!1}}},[e._v("\n          close\n        ")])],1)],1):e._e()],1),e._v(" "),n("v-dialog",{attrs:{width:"700"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.currentPort?n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("\n        List of sms for imei: "+e._s(e.currentPort.imei)+"\n      ")]),e._v(" "),n("v-card-text",[[n("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[e._v("№")]),e._v(" "),n("th",{staticClass:"text-left"},[e._v("From")]),e._v(" "),n("th",{staticClass:"text-left"},[e._v("Text")]),e._v(" "),n("th",{staticClass:"text-left"},[e._v("Date")])])]),e._v(" "),n("tbody",e._l(e.currentPortSmsList,(function(t,r){return n("tr",{key:t.timestamp},[n("td",[e._v(e._s(r+1))]),e._v(" "),n("td",[e._v(e._s(t.from))]),e._v(" "),n("td",[e._v(e._s(t.text))]),e._v(" "),n("td",[e._v(e._s(t.date))])])})),0)]},proxy:!0}],null,!1,2272594279)})]],2),e._v(" "),n("v-divider"),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.currenPort=null,e.dialog=!1}}},[e._v("\n          Ok\n        ")])],1)],1):e._e()],1)],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-line_title"},[n("b",[e._v("CONNECTED PORTS:")])])}],!1,null,null,null);t.default=component.exports;C()(component,{VBtn:k.a,VCard:P.a,VCardActions:T.a,VCardText:T.b,VCardTitle:T.c,VCheckbox:O.a,VColorPicker:S.a,VDialog:A.a,VDivider:y.a,VIcon:R.a,VMenu:M.a,VRadio:Y,VRadioGroup:te,VSimpleTable:ne.a,VSpacer:re.a,VTextField:ae.a,VTooltip:ie.a})}}]);